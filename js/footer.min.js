var Hogan={};(function(j,h){j.Template=function(o,p,n,m){this.r=o||this.r;this.c=n;this.options=m;this.text=p||"";this.buf=(h)?[]:""};j.Template.prototype={r:function(o,n,m){return""},v:c,t:e,render:function b(o,n,m){return this.ri([o],n||{},m)},ri:function(o,n,m){return this.r(o,n,m)},rp:function(o,q,p,m){var n=p[o];if(!n){return""}if(this.c&&typeof n=="string"){n=this.c.compile(n,this.options)}return n.ri(q,p,m)},rs:function(p,o,q){var m=p[p.length-1];if(!g(m)){q(p,o,this);return}for(var n=0;n<m.length;n++){p.push(m[n]);q(p,o,this);p.pop()}},s:function(s,n,q,o,t,m,p){var r;if(g(s)&&s.length===0){return false}if(typeof s=="function"){s=this.ls(s,n,q,o,t,m,p)}r=(s==="")||!!s;if(!o&&r&&n){n.push((typeof s=="object")?s:n[n.length-1])}return r},d:function(q,n,p,r){var s=q.split("."),t=this.f(s[0],n,p,r),m=null;if(q==="."&&g(n[n.length-2])){return n[n.length-1]}for(var o=1;o<s.length;o++){if(t&&typeof t=="object"&&s[o] in t){m=t;t=t[s[o]]}else{t=""}}if(r&&!t){return false}if(!r&&typeof t=="function"){n.push(m);t=this.lv(t,n,p);n.pop()}return t},f:function(q,m,p,r){var t=false,n=null,s=false;for(var o=m.length-1;o>=0;o--){n=m[o];if(n&&typeof n=="object"&&q in n){t=n[q];s=true;break}}if(!s){return(r)?false:""}if(!r&&typeof t=="function"){t=this.lv(t,m,p)}return t},ho:function(u,m,q,s,o){var r=this.c;var n=this.options;n.delimiters=o;var p=u.call(m,s,function(v){return r.compile(v,n).render(m,q)});this.b(r.compile(p.toString(),n).render(m,q));return false},b:(h)?function(m){this.buf.push(m)}:function(m){this.buf+=m},fl:(h)?function(){var m=this.buf.join("");this.buf=[];return m}:function(){var m=this.buf;this.buf="";return m},ls:function(n,u,r,o,m,p,v){var q=u[u.length-1],s=null;if(!o&&this.c&&n.length>0){return this.ho(n,q,r,this.text.substring(m,p),v)}s=n.call(q);if(typeof s=="function"){if(o){return true}else{if(this.c){return this.ho(s,q,r,this.text.substring(m,p),v)}}}return s},lv:function(q,o,p){var n=o[o.length-1];var m=q.call(n);if(typeof m=="function"){m=m.call(n)}m=e(m);if(this.c&&~m.indexOf("{\u007B")){return this.c.compile(m,this.options).render(n,p)}return m}};var i=/&/g,d=/</g,a=/>/g,l=/\'/g,k=/\"/g,f=/[&<>\"\']/;function e(m){return String((m===null||m===undefined)?"":m)}function c(m){m=e(m);return f.test(m)?m.replace(i,"&amp;").replace(d,"&lt;").replace(a,"&gt;").replace(l,"&#39;").replace(k,"&quot;"):m}var g=Array.isArray||function(m){return Object.prototype.toString.call(m)==="[object Array]"}})(typeof exports!=="undefined"?exports:Hogan);T={};T.post=function(g,f,e){e=e||"";var a=e+"";var d=this;a+='<div class="post">';a+="\n"+e;a+='    <div class="row">';a+="\n"+e;a+='        <div class="time span1">';a+=(d.v(d.f("time",g,f,0)));a+="</div>";a+="\n"+e;a+='        <div class="content span5">';a+=(d.f("content",g,f,0));a+="</div>";a+="\n"+e;a+="    </div>";a+="\n"+e;a+="</div>";a+="\n";return a};T.postpicture=function(g,f,e){e=e||"";var a=e+"";var d=this;a+='<div class="post picture">';a+="\n"+e;a+='    <div class="row">';a+="\n"+e;a+='        <div class="time span1">';a+=(d.v(d.f("time",g,f,0)));a+="</div>";a+="\n"+e;a+='        <div class="piccont row clearfix">';a+="\n"+e;a+='            <img src="';a+=(d.v(d.d("meta.picurl",g,f,0)));a+='" class="span5"/>';a+="\n"+e;a+="        </div>";a+="\n"+e;a+="    </div>";a+="\n"+e;a+='    <div class="row">';a+="\n"+e;a+='        <div class="content span5 offset1">';a+=(d.f("content",g,f,0));a+="</div>";a+="\n"+e;a+="    </div>";a+="\n"+e;a+="</div>";a+="\n";return a};T.postquote=function(g,f,e){e=e||"";var a=e+"";var d=this;a+='<div class="post quotecont">';a+="\n"+e;a+='    <div class="row">';a+="\n"+e;a+='        <div class="span1">';a+="\n"+e;a+='            <div class="time">';a+=(d.v(d.f("time",g,f,0)));a+="</div>";a+="\n"+e;a+="        </div>";a+="\n"+e;a+='        <div class="span5 quote">';a+=(d.d("meta.quote",g,f,0));a+="</div>";a+="\n"+e;a+="    </div>";a+="\n"+e;a+='    <div class="row">';a+="\n"+e;a+='        <div class="content span5 offset1">';a+=(d.f("content",g,f,0));a+="</div>";a+="\n"+e;a+="    </div>";a+="\n"+e;a+="</div>";a+="\n";return a};T.posttwitter=function(g,f,e){e=e||"";var a=e+"";var d=this;a+='<div class="post twitter">';a+="\n"+e;a+='    <div class="row">';a+="\n"+e;a+='        <div class="span1">';a+="\n"+e;a+='            <div class="time">';a+=(d.v(d.f("time",g,f,0)));a+="</div>";a+="\n"+e;a+='            <div id="twittericon"></div>';a+="\n"+e;a+="        </div>";a+="\n"+e;a+='        <div class="span5">';a+=(d.d("meta.tweetcontent.html",g,f,0));a+="</div>";a+="\n"+e;a+="    </div>";a+="\n"+e;a+='    <div class="row">';a+="\n"+e;a+='        <div class="content span5 offset1">';a+=(d.f("content",g,f,0));a+="</div>";a+="\n"+e;a+="    </div>";a+="\n"+e;a+="</div>";a+="\n";return a};window.config={};config.url="http://localhost:3000";config.live=true;var posts={};var template={normal:new Hogan.Template(T.post),twitter:new Hogan.Template(T.posttwitter),picture:new Hogan.Template(T.postpicture),quote:new Hogan.Template(T.postquote)};$(function(){window.socketstatus=$(".clearfix #status");window.socketupdate=$(".clearfix #update");window.postscont=$(".feed");window.cache={sticky:$(".sticky")};setTimeout(function(){window.scrollTo(0,1)},0)});if(config.live){var socket=io.connect(config.url);socket.on("connect",function(){$(function(){socketstatus.removeClass("disconnected").addClass("connected").text("Connected");socketupdate.show()})});socket.on("disconnect",function(){$(function(){socketstatus.removeClass("connected").addClass("disconnected").text("Disconnected");socketupdate.hide()})});socket.on("datastart",function(a){$(function(){postscont.removeClass("loading");if(!posts){postscont.empty()}if(a.data.posts){$.each(a.data.posts.reverse(),function(b,c){if(!posts[c.id]){posts[c.id]=addPost(c)}})}cache.sticky.html(a.data.sticky)})});socket.on("newpost",function(a){$.each(a.data.posts.reverse(),function(b,c){if(!posts[c.id]){posts[c.id]=addPost(c,true)}});cache.sticky.html(a.data.sticky)});socket.on("reset",function(a){posts={};postscont.removeClass("loading").empty();if(a.data.posts){$.each(a.data.posts.reverse(),function(b,c){posts[c.id]=addPost(c)})}cache.sticky.html(a.data.sticky)})}else{$(function(){socketstatus.hide();socketupdate.hide();postscont.removeClass("loading").empty();$.each(config.data.posts.reverse(),function(a,b){posts[b.id]=addPost(b)})})}function addPost(b,a){var d=new Date(b.timestamp*1000);b.time=prefixNumber(d.getHours())+":"+prefixNumber(d.getMinutes());var c;if(!b.type){c=$(template.normal.render(b))}else{if(b.type=="matchupdate"||b.type=="matchfinish"){b.meta.team1=matches[b.meta.match].team1;b.meta.team2=matches[b.meta.match].team2;b.meta.location=matches[b.meta.match].location}c=$(template[b.type].render(b))}if(a){postscont.prepend(c);c.hide().fadeIn(1000)}else{postscont.prepend(c)}return b}function prefixNumber(a){if(a<10){a="0"+a}return a};